apiVersion: v1
kind: Namespace
metadata:
  name: kafka
  labels:
    name: kafka
    istio-injection: disabled  # Kafka doesn't need Istio sidecar
---
apiVersion: v1
kind: Namespace
metadata:
  name: databases
  labels:
    name: databases
    istio-injection: disabled
---
apiVersion: v1
kind: Namespace
metadata:
  name: monitoring
  labels:
    name: monitoring
    istio-injection: disabled
---
apiVersion: v1
kind: Namespace
metadata:
  name: argocd
  labels:
    name: argocd
    istio-injection: disabled
---
apiVersion: v1
kind: Namespace
metadata:
  name: gamemetrics
  labels:
    name: gamemetrics
    istio-injection: enabled  # Enable Istio for application services
---
apiVersion: v1
kind: Namespace
metadata:
  name: default
  labels:
    name: default
    istio-injection: enabled  # Enable Istio for application services
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: kafka-quota
  namespace: kafka
spec:
  hard:
    requests.cpu: "20"
    requests.memory: 40Gi
    limits.cpu: "40"
    limits.memory: 80Gi
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: databases-quota
  namespace: databases
spec:
  hard:
    requests.cpu: "16"
    requests.memory: 32Gi
    limits.cpu: "32"
    limits.memory: 64Gi
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: default-quota
  namespace: default
spec:
  hard:
    requests.cpu: "30"
    requests.memory: 60Gi
    limits.cpu: "60"
    limits.memory: 120Gi
