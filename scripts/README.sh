#!/bin/bash
# GameMetrics Pro - Essential Deployment Scripts
# 
# This folder contains the minimal set of scripts needed for deployment.
# Use these scripts in order:

echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  GameMetrics Pro - Deployment Scripts Reference"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“‹ AVAILABLE SCRIPTS:"
echo ""
echo "1ï¸âƒ£  INFRASTRUCTURE (One-time setup)"
echo "   bash deploy-infra-only.sh"
echo "   â””â”€ Deploys: AWS infrastructure, EKS cluster, RDS, Redis, Kafka"
echo "   â””â”€ Output: .infra-output.env (infrastructure details)"
echo "   â””â”€ Run first!"
echo ""
echo "2ï¸âƒ£  APPLICATIONS (Deploy to Kubernetes)"
echo "   bash deploy-apps-to-k8s.sh"
echo "   â””â”€ Deploys: event-ingestion service to K8s cluster"
echo "   â””â”€ Uses: .infra-output.env from step 1"
echo "   â””â”€ Run after infrastructure is ready"
echo ""
echo "3ï¸âƒ£  BUILD & PUSH (Local image building)"
echo "   bash build-push-ecr.sh"
echo "   â””â”€ Builds Docker image locally"
echo "   â””â”€ Pushes to ECR repository"
echo "   â””â”€ Use: For manual local builds before pushing to GitHub"
echo ""
echo "4ï¸âƒ£  STATUS CHECK (Monitor cluster)"
echo "   bash check-status.sh"
echo "   â””â”€ Shows cluster, pod, and service status"
echo "   â””â”€ Use: To monitor deployment health"
echo ""
echo "5ï¸âƒ£  SECRETS (Sync AWS Secrets Manager)"
echo "   bash update-secrets-from-aws.sh"
echo "   â””â”€ Called automatically by deploy-infra-only.sh"
echo "   â””â”€ Use: Manually if secrets need refresh"
echo ""
echo "ğŸ“š REFERENCE (Don't execute, just read)"
echo "   cat commands.sh"
echo "   â””â”€ Useful kubectl and AWS commands"
echo "   â””â”€ cat DEPLOYMENT.md for full documentation"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸš€ TYPICAL WORKFLOW:"
echo ""
echo "  1. First time setup:"
echo "     bash deploy-infra-only.sh       # ~10-15 min"
echo "     bash deploy-apps-to-k8s.sh      # ~2-3 min"
echo ""
echo "  2. For daily development (automated via CI/CD):"
echo "     git push origin develop         # Triggers GitHub Actions"
echo "                                     # Auto-builds, pushes, deploys"
echo ""
echo "  3. Manual local testing:"
echo "     bash build-push-ecr.sh          # Build locally"
echo "     bash check-status.sh            # Monitor deployment"
echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
